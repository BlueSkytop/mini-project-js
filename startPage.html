<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Users</title>
    <link type="image/png" sizes="32x32" rel="icon" href="./img/icons8-users-32.png">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
<div id="users">
<div >
    <h1>Users</h1>
    <div id="usersBlock"></div>
</div>
</div>

<script>
    const URL = 'https://jsonplaceholder.typicode.com/users/';

    function usersAll(url) {
        fetch(url)
            .then(res => res.json())
            .then(data => {
                console.log(data);
                usersFn(data);
            })
    }
    usersAll(URL)

    function usersFn(individs) {
        let container = document.getElementById('usersBlock');
        console.log(container);
        container.innerHTML = '';

        for (const individ of individs) {
            let divForUser = document.createElement('div');
            divForUser.classList.add('styleUser');

            let h4 = document.createElement('h4');
            h4.innerText = `${individ.id}. ${individ.name}`;
            h4.classList.add('h4Style')


            divForUser.append(h4);
            container.appendChild(divForUser);

            const button = document.createElement('button');
            button.classList.add('userButton')
            const b = document.createElement('b')
            b.textContent = 'More details';
            button.addEventListener('click', ()=>{
                location.href = 'userDetails.html?id='+ individ.id
            })
            button.appendChild(b);
            divForUser.appendChild(button);
            container.appendChild(divForUser);
        }
    }
</script>
</body>
</html>